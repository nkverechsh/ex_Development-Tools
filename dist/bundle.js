(()=>{"use strict";function e(e){localStorage.setItem("level",JSON.stringify(e))}function t(){return localStorage.getItem("level")?JSON.parse(localStorage.getItem("level")):"easy"}!function(){const a=document.querySelector("#add"),n=`\n        <div class="complexity">\n        <h1 class="complexity__text">Выбери</br>сложность</h1>\n\n      <div class="complexity__level">\n          <button class="complexity__level_variant complexity__level_variant_easy">\n          <input type="radio" ${"easy"===t()?"checked":null} name="checkbox" value="easy">\n          <span>1</span></button>\n          <button class="complexity__level_variant complexity__level_variant_medium">\n          <input type="radio" ${"medium"===t()?"checked":null} name="checkbox" value="medium">\n          <span>2</span></button>\n          <button class="complexity__level_variant complexity__level_variant_hard">\n          <input type="radio" ${"hard"===t()?"checked":null} name="checkbox" value="hard">\n          <span>3</span></button>\n      </div>\n\n          <button type="submit" class="start__game">\n              <p class="start__game_text">Старт</p>\t\n          </button>\n        </div>\n    `;a.innerHTML=n,document.querySelector(".complexity__level_variant_easy").addEventListener("change",(()=>e("easy"))),document.querySelector(".complexity__level_variant_medium").addEventListener("change",(()=>e("medium"))),document.querySelector(".complexity__level_variant_hard").addEventListener("change",(()=>e("hard"))),document.querySelector(".start__game").addEventListener("click",(()=>function(){function e(e){const t=e=>{for(let t=e.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}return e},a=t(cardsGrade.flatMap((e=>cardsSuit.map((t=>({cardsGrade:e,cardsSuit:t})))))).slice(0,e);!function(e){document.querySelector("#add").innerHTML='\n\n                <div class="game-page">\n                    <div class="game-page__title">\n                        <div class="game-page__timer">\n                            <pre class="game-page__timer-min">min           sec</pre>\n                            <h2 class="game-page__time">00.00</h2>\n                        </div>\n                        <button class="game-page__key repeat-key">\n                            Начать заново\n                        </button>\n                    </div>\n                        <div class="game-page__cards">\n                        </div>\n                </div>\n\n        ',e.forEach((e=>{renderCards(e)}))}(t([...a,...a]))}switch(JSON.parse(localStorage.getItem("level"))){case"easy":e(3);break;case"medium":e(6);break;case"hard":e(9)}const t=document.querySelectorAll(".play-card__back");for(const e of t)e.addEventListener("click",(()=>{e.classList.add("none")}));const a=Array.from(document.querySelectorAll(".play-card"));a.forEach((e=>e.addEventListener("click",(()=>{e.classList.add("open");let t=a.filter((e=>e.classList.contains("open")));t.forEach((e=>e.classList.add("win-card")));let n=a.filter((e=>e.classList.contains("win-card")));if(n.length===a.length&&console.log("u win"),2===t.length){if(t[0].getAttribute("data-cardsGrade")===t[1].getAttribute("data-cardsGrade")&&t[0].getAttribute("data-cardsSuit")===t[1].getAttribute("data-cardsSuit"))return void t.forEach((e=>e.classList.remove("open")));t[0].getAttribute("data-cardsGrade")!==t[1].getAttribute("data-cardsGrade")&&t[0].getAttribute("data-cardsSuit")!==t[1].getAttribute("data-cardsSuit")&&(console.warn("The game is over!"),t.forEach((e=>e.classList.remove("open")))),t=[]}})))),setTimeout((()=>{document.querySelectorAll(".play-card__back").forEach((e=>{e.classList.remove("none")}))}),5e3)}()))}()})();
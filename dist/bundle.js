(()=>{"use strict";const e=["6","7","8","9","10","J","Q","K","A"],a=["clubs","diamonds","hearts","spades"];function t(e){localStorage.setItem("level",JSON.stringify(e))}function c(){return localStorage.getItem("level")?JSON.parse(localStorage.getItem("level")):"easy"}!function(){const n=document.querySelector("#add"),s=`\n        <div class="complexity">\n        <h1 class="complexity__text">Выбери</br>сложность</h1>\n\n      <div class="complexity__level">\n          <button class="complexity__level_variant complexity__level_variant_easy">\n          <input type="radio" ${"easy"===c()?"checked":null} name="checkbox" value="easy">\n          <span>1</span></button>\n          <button class="complexity__level_variant complexity__level_variant_medium">\n          <input type="radio" ${"medium"===c()?"checked":null} name="checkbox" value="medium">\n          <span>2</span></button>\n          <button class="complexity__level_variant complexity__level_variant_hard">\n          <input type="radio" ${"hard"===c()?"checked":null} name="checkbox" value="hard">\n          <span>3</span></button>\n      </div>\n\n          <button type="submit" class="start__game">\n              <p class="start__game_text">Старт</p>\t\n          </button>\n        </div>\n    `;n.innerHTML=s,document.querySelector(".complexity__level_variant_easy").addEventListener("change",(()=>t("easy"))),document.querySelector(".complexity__level_variant_medium").addEventListener("change",(()=>t("medium"))),document.querySelector(".complexity__level_variant_hard").addEventListener("change",(()=>t("hard"))),document.querySelector(".start__game").addEventListener("click",(()=>function(){function t(t){const c=e=>{for(let a=e.length-1;a>0;a--){const t=Math.floor(Math.random()*(a+1));[e[a],e[t]]=[e[t],e[a]]}return e},n=c(e.flatMap((e=>a.map((a=>({cardsGrade:e,cardsSuit:a})))))).slice(0,t);!function(e){document.querySelector("#add").innerHTML='\n\n                <div class="game-page">\n                    <div class="game-page__title">\n                        <div class="game-page__timer">\n                            <pre class="game-page__timer-min">min           sec</pre>\n                            <h2 class="game-page__time">00.00</h2>\n                        </div>\n                        <button class="game-page__key repeat-key">\n                            Начать заново\n                        </button>\n                    </div>\n                        <div class="game-page__cards">\n                        </div>\n                </div>\n\n        ',e.forEach((e=>{!function(e){const a=`\n        <div class="play-card">\n            <p class="play-card__text play-card__text_head">${e.cardsGrade}</p>\n            <img class="play-card__back none" src="./../../static/img/card-back.svg" alt="">\n            <img class="play-card__img play-card__img_head" src="./static/img/${e.cardsSuit}.svg" alt="">\n            <img class="play-card__img play-card__img_middle" src="./static/img/${e.cardsSuit}.svg" alt="">\n            <img class="play-card__img play-card__img_footer" src="./static/img/${e.cardsSuit}.svg" alt="">\n            <p class="play-card__text play-card__text_footer">${e.cardsGrade}</p>\n    </div>\n`;document.querySelector(".next-page__cards").insertAdjacentHTML("afterbegin",a)}(e)}))}(c([...n,...n]))}switch(JSON.parse(localStorage.getItem("level"))){case"easy":t(3);break;case"medium":t(6);break;case"hard":t(9)}const c=document.querySelectorAll(".play-card__back");for(const e of c)e.addEventListener("click",(()=>{e.classList.add("none")}));const n=Array.from(document.querySelectorAll(".play-card"));n.forEach((e=>e.addEventListener("click",(()=>{e.classList.add("open");let a=n.filter((e=>e.classList.contains("open")));a.forEach((e=>e.classList.add("win-card")));let t=n.filter((e=>e.classList.contains("win-card")));if(t.length===n.length&&console.log("u win"),2===a.length){if(a[0].getAttribute("data-cardsGrade")===a[1].getAttribute("data-cardsGrade")&&a[0].getAttribute("data-cardsSuit")===a[1].getAttribute("data-cardsSuit"))return void a.forEach((e=>e.classList.remove("open")));a[0].getAttribute("data-cardsGrade")!==a[1].getAttribute("data-cardsGrade")&&a[0].getAttribute("data-cardsSuit")!==a[1].getAttribute("data-cardsSuit")&&(console.warn("The game is over!"),a.forEach((e=>e.classList.remove("open")))),a=[]}})))),setTimeout((()=>{document.querySelectorAll(".play-card__back").forEach((e=>{e.classList.remove("none")}))}),5e3)}()))}()})();